!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.retinajs=e()}(this,function(){"use strict";var t="undefined"!=typeof window,r=Math.round(t&&window.devicePixelRatio||1),o=/(\.[A-z]{3,4}\/?(\?.*)?)$/,u=/url\(('|")?([^)'"]+)('|")?\)/i,e="[data-rjs]",a="data-rjs-processed";function n(t){return Array.prototype.slice.call(t)}function d(t,e){var n=t.nodeName.toLowerCase(),i=document.createElement("img");i.addEventListener("load",function(){"img"===n?function(t){return t.hasAttribute("data-no-resize")||(0===t.offsetWidth&&0===t.offsetHeight?(t.setAttribute("width",t.naturalWidth),t.setAttribute("height",t.naturalHeight)):(t.setAttribute("width",t.offsetWidth),t.setAttribute("height",t.offsetHeight))),t}(t).setAttribute("src",e):t.style.backgroundImage="url("+e+")"}),i.setAttribute("src",e),t.setAttribute(a,!0)}function f(t,e,n){var i=function(t){var e=parseInt(t,10);return r<e?r:e}(2<arguments.length&&void 0!==n?n:1);e&&1<i&&d(t,e.replace(o,"@"+i+"x$1"))}function i(t){(function(t){return t?"function"==typeof t.forEach?t:n(t):"undefined"!=typeof document?n(document.querySelectorAll(e)):[]})(t).forEach(function(t){if(!t.getAttribute(a)){var e="img"===t.nodeName.toLowerCase()?t.getAttribute("src"):function(t){return t.style.backgroundImage.replace(u,"$2")}(t),n=t.getAttribute("data-rjs"),i=!isNaN(parseInt(n,10));if(null===n)return;i?f(t,e,n):function(t,e,n){1<r&&d(t,n)}(t,0,n)}})}return t&&(window.addEventListener("load",function(){i()}),window.retinajs=i),i});